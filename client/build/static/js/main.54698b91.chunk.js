(this["webpackJsonpcrud-demo"]=this["webpackJsonpcrud-demo"]||[]).push([[0],{111:function(e,t,a){e.exports=a(175)},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),o=a(22),m=a(16),i=(a(116),a(117),a(186)),u=a(180),s=a(181),d=a(38),p=a(93),b=a.n(p),g=function(){return r.a.createElement(i.a,{bg:"light",expand:"lg"},r.a.createElement(i.a.Brand,{href:"/"},r.a.createElement("img",{alt:"",className:"d-inline-block align-top",height:"40",src:b.a,width:"200"})),r.a.createElement(i.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(i.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(u.a,{className:"mr-auto"},r.a.createElement(s.a,{id:"element-dropdown",title:"Elements"},r.a.createElement(s.a.Item,{href:"/elements/create"},"Create Element"),r.a.createElement(s.a.Item,{href:"/elements"},"Manage Elements"),r.a.createElement(d.a.Divider,null),r.a.createElement(s.a,{id:"items-dropdown",title:"Manage Dropdown Options"},r.a.createElement(s.a.Item,{href:"/formats"},"Format"),r.a.createElement(s.a.Item,{href:"/categories"},"Category"),r.a.createElement(s.a.Item,{href:"/markets"},"Market"))),r.a.createElement(s.a,{id:"track-dropdown",title:"Tracks"},r.a.createElement(s.a.Item,{href:"/tracks/create"},"Create Track"),r.a.createElement(s.a.Item,{href:"/tracks"},"Manage Tracks")),r.a.createElement(s.a,{id:"basic-nav-dropdown",title:"Programs"},r.a.createElement(s.a.Item,{href:"/programs/create"},"Create Program"),r.a.createElement(s.a.Item,{href:"/programs"},"Manage Programs")))))},h=a(4),f=a(7),E=a(9),v=a(10),O=a(12),j=a(11),k=a(13),y=a(6),C=a.n(y),S=a(187),x=a(15),w=a(185),I=a(99),D=a(98),N={elementCategory:"",elementCogRating:"",elementDescription:"",elementDuration:"",elementFormat:"",elementLabel:"",elementLink:"",elementMarket:"",elementNumber:"",elementPhysRating:"",elementSubCategory:""},M=function(e){return e.reduce((function(e,t){return Object(h.a)({},e,Object(f.a)({},t._id,t))}),{})},L=function(e){var t=e.buttonText,a=e.elementCategory,l=e.elementCogRating,c=e.elementDescription,m=e.elementDuration,i=e.elementFormat,u=e.elementLabel,s=e.elementLink,d=e.elementMarket,p=e.elementNumber,b=e.elementPhysRating,g=e.elementSubCategory,h=e.onChange,f=e.onChangeDropdown,E=e.onSubmit,v=Object(n.useState)({formats:{},categories:{},markets:{}}),O=Object(x.a)(v,2),j=O[0],k=O[1];return Object(n.useEffect)((function(){Promise.all([C.a.get("".concat("/api","/formats/")),C.a.get("".concat("/api","/categories/")),C.a.get("".concat("/api","/markets/"))]).then((function(e){var t=Object(x.a)(e,3),a=t[0].data,n=t[1].data,r=t[2].data;k({formats:M(a),categories:M(n),markets:M(r)})}))}),[]),r.a.createElement(w.a,{onSubmit:E},r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:I.a,controlId:"elementNumber"},r.a.createElement(w.a.Label,null,"Number"),r.a.createElement(w.a.Control,{name:"elementNumber",onChange:h,placeholder:"add #",required:!0,type:"text",value:p})),r.a.createElement(w.a.Group,{as:I.a,controlId:"elementLabel"},r.a.createElement(w.a.Label,null,"Label"),r.a.createElement(w.a.Control,{name:"elementLabel",onChange:h,placeholder:"add label",required:!0,type:"text",value:u}))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:I.a,controlId:"elementDescription"},r.a.createElement(w.a.Label,null,"Description"),r.a.createElement(w.a.Control,{name:"elementDescription",onChange:h,placeholder:"add description",required:!0,type:"text",value:c})),r.a.createElement(w.a.Group,{as:I.a,controlId:"elementFormat"},r.a.createElement(w.a.Label,null,"Format"),r.a.createElement(w.a.Control,{as:"select",name:"elementFormat",onChange:function(e){f(e,j.formats)},required:!0,value:i&&i._id},Object.keys(j.formats).map((function(e,t){return r.a.createElement("option",{key:"format-".concat(e),value:e},j.formats[e].elementFormat)}))))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:I.a,controlId:"elementDuration"},r.a.createElement(w.a.Label,null,"Duration"),r.a.createElement(w.a.Control,{name:"elementDuration",onChange:h,placeholder:"min:secs",required:!0,type:"text",value:m})),r.a.createElement(w.a.Group,{as:I.a,controlId:"elementCategory"},r.a.createElement(w.a.Label,null,"Category"),r.a.createElement(w.a.Control,{as:"select",name:"elementCategory",onChange:function(e){f(e,j.categories)},required:!0,value:a._id},Object.keys(j.categories).map((function(e,t){return r.a.createElement("option",{key:"category-".concat(e),value:e},j.categories[e].elementCategory)}))))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:I.a,controlId:"elementSubCategory"},r.a.createElement(w.a.Label,null,"Subcategory"),r.a.createElement(w.a.Control,{name:"elementSubCategory",onChange:h,placeholder:"insert subcategory",required:!0,type:"text",value:g})),r.a.createElement(w.a.Group,{as:I.a,controlId:"elementMarket"},r.a.createElement(w.a.Label,null,"Market"),r.a.createElement(w.a.Control,{as:"select",name:"elementMarket",onChange:function(e){f(e,j.markets)},required:!0,value:d._id},Object.keys(j.markets).map((function(e,t){return r.a.createElement("option",{key:"market-".concat(e),value:e},j.markets[e].elementMarket)}))))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:I.a,controlId:"elementCogRating"},r.a.createElement(w.a.Label,null,"Cognitive Rating"),r.a.createElement(w.a.Control,{as:"select",name:"elementCogRating",onChange:h,required:!0,value:l},r.a.createElement("option",{defaultValue:!0},"Choose..."),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7"))),r.a.createElement(w.a.Group,{as:I.a,controlId:"elementPhysRating"},r.a.createElement(w.a.Label,null,"Physical Rating"),r.a.createElement(w.a.Control,{as:"select",name:"elementPhysRating",onChange:h,required:!0,value:b},r.a.createElement("option",{defaultValue:!0},"Choose..."),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"),r.a.createElement("option",{value:"7"},"7")))),r.a.createElement(w.a.Row,null,r.a.createElement(w.a.Group,{as:I.a,controlId:"elementLink"},r.a.createElement(w.a.Label,null,"Vimeo Link"),r.a.createElement(w.a.Control,{name:"elementLink",onChange:h,placeholder:"insert address",required:!0,type:"text",value:s}))),r.a.createElement(w.a.Row,{style:{justifyContent:"flex-end"}},r.a.createElement(D.a,{as:o.b,to:"./",variant:"link"},"Go Back"),r.a.createElement(D.a,{type:"submit",variant:"primary"},t)))},F=a(100),P=a(182),T=function(e){var t=e.children,a=e.title,n=e.style,l=e.fluid,c=Object(F.a)(e,["children","title","style","fluid"]);return r.a.createElement(P.a,Object.assign({fluid:l,style:n},c),r.a.createElement("h3",null,a),t)};T.defaultProps={style:{},fluid:!1};var _=T,R=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.onChangeDropdown=function(e,t){var n=e.target,r=n.name,l=n.value;a.setState(Object(f.a)({},r,t[l]))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.elementCategory,r=t.elementCogRating,l=t.elementDescription,c=t.elementDuration,o=t.elementFormat,m=t.elementLabel,i=t.elementLink,u=t.elementMarket,s=t.elementNumber,d=t.elementPhysRating,p=t.elementSubCategory;C.a.post("".concat("/api","/elements/add"),{elementCategory:n,elementCogRating:r,elementDescription:l,elementDuration:c,elementFormat:o,elementLabel:m,elementLink:i,elementMarket:u,elementNumber:s,elementPhysRating:d,elementSubCategory:p}).then((function(e){alert("Element Created!"),a.setState(Object(h.a)({},N))})).catch((function(e){return console.log({err:e})}))},a.state=Object(h.a)({},N),a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement(_,{title:"Create a New Element"},r.a.createElement(S.a,{bg:"light"},r.a.createElement(S.a.Body,null,r.a.createElement(L,Object.assign({},this.state,{buttonText:"Create Element",onChange:this.onChange,onChangeDropdown:this.onChangeDropdown,onSubmit:this.onSubmit})))))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.onChangeDropdown=function(e,t){var n=e.target,r=n.name,l=n.value;a.setState(Object(f.a)({},r,t[l]))},a.onSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state,r=n.elementCategory,l=n.elementCogRating,c=n.elementDescription,o=n.elementDuration,m=n.elementFormat,i=n.elementLabel,u=n.elementLink,s=n.elementMarket,d=n.elementNumber,p=n.elementPhysRating,b=n.elementSubCategory;C.a.put("".concat("/api","/elements/update/").concat(t),{elementCategory:r,elementCogRating:l,elementDescription:c,elementDuration:o,elementFormat:m,elementLabel:i,elementLink:u,elementMarket:s,elementNumber:d,elementPhysRating:p,elementSubCategory:b}).then((function(e){alert("Element Updated!"),a.props.history.push("/elements")})).catch((function(e){return console.log({err:e})}))},a.state=Object(h.a)({},N),a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;C.a.get("".concat("/api","/elements/").concat(t)).then((function(t){e.setState(Object(h.a)({},t.data))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(_,{title:"Update Element"},r.a.createElement(L,Object.assign({},this.state,{buttonText:"Update Element",onChange:this.onChange,onChangeDropdown:this.onChangeDropdown,onSubmit:this.onSubmit})))}}]),t}(n.Component),U=a(183),z=a(19),q=a(20);function A(){var e=Object(z.a)(["\n  tr {\n    display: block;\n  }\n  border: none;\n"]);return A=function(){return e},e}function B(){var e=Object(z.a)(["\n  display: block;\n  width: 100%;\n  overflow: auto;\n  height: 40vh;\n  border: none;\n"]);return B=function(){return e},e}function H(){var e=Object(z.a)(["\n  table-layout: fixed;\n"]);return H=function(){return e},e}function V(){var e=Object(z.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  width: 95%;\n"]);return V=function(){return e},e}function J(){var e=Object(z.a)(["\n  td {\n    text-align: left;\n    width: 700px;\n  }\n"]);return J=function(){return e},e}function K(){var e=Object(z.a)(["\n  text-align: left;\n  width: 700px;\n"]);return K=function(){return e},e}var Q=q.a.th(K()),W=q.a.tr(J()),X=Object(q.a)(_)(V()),Y=Object(q.a)(U.a)(H()),Z=q.a.tbody(B()),$=q.a.thead(A()),ee=function(e){var t=e._id,a=e.deleteElement,n=e.elementCategory,l=e.elementCogRating,c=e.elementDescription,m=e.elementDuration,i=e.elementFormat,u=e.elementLabel,s=e.elementLink,d=e.elementMarket,p=e.elementNumber,b=e.elementPhysRating,g=e.elementSubCategory;return r.a.createElement(W,null,r.a.createElement("td",null,p),r.a.createElement("td",null,u),r.a.createElement("td",null,c),r.a.createElement("td",null,i.elementFormat),r.a.createElement("td",null,m),r.a.createElement("td",null,n.elementCategory),r.a.createElement("td",null,g),r.a.createElement("td",null,d.elementMarket),r.a.createElement("td",null,l),r.a.createElement("td",null,b),r.a.createElement("td",null,s),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement(o.b,{to:"/elements/edit/".concat(t)},r.a.createElement(D.a,{size:"sm",variant:"outline-warning"},"edit")),r.a.createElement("span",null," | "),r.a.createElement(D.a,{onClick:function(){a(t)},size:"sm",variant:"outline-danger"},"delete")))},te=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).deleteElement=function(e){C.a.delete("".concat("/api","/elements/").concat(e)).then((function(){alert("Element Deleted!"),a.setState((function(t){return{elements:t.elements.filter((function(t){return t._id!==e}))}}))}))},a.state={elements:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([C.a.get("".concat("/api","/elements/")),C.a.get("".concat("/api","/categories/")),C.a.get("".concat("/api","/formats/"))]).then((function(t){var a=Object(x.a)(t,3),n=a[0].data,r=a[1].data,l=a[2].data;console.log("/api"),e.setState({elements:n,categories:r,formats:l})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.elements,n=t.categories,l=t.formats;return r.a.createElement(X,{fluid:!0,title:"Manage Elements"},r.a.createElement(U.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(Q,null,"#"),r.a.createElement(Q,null,"Label"),r.a.createElement(Q,null,"Description"),r.a.createElement(Q,null,"Format"),r.a.createElement(Q,null,"Time"),r.a.createElement(Q,null,"Category"),r.a.createElement(Q,null,"Subcategory"),r.a.createElement(Q,null,"Market"),r.a.createElement(Q,null,"Cog#"),r.a.createElement(Q,null,"Phys#"),r.a.createElement(Q,null,"Vimeo Link"),r.a.createElement(Q,null,"Actions"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement(ee,Object.assign({key:t._id,deleteElement:e.deleteElement,categories:n,formats:l},t))})))))}}]),t}(n.Component),ae=function(e){var t=e.elementFormat,a=e._id,n=e.deleteFormat;return r.a.createElement(W,null,r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(o.b,{to:"".concat("/api","/formats/edit/").concat(a)},r.a.createElement(D.a,{size:"sm",variant:"outline-warning"},"edit")),r.a.createElement("span",null," | "),r.a.createElement(D.a,{onClick:function(){n(a)},size:"sm",variant:"outline-danger"},"delete")))},ne=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).fetchFormats=function(){return C.a.get("".concat("/api","/formats/")).then((function(e){var t=e.data;a.setState({formats:t})})).catch((function(e){console.log(e)}))},a.deleteFormat=function(e){C.a.delete("".concat("/api","/formats/").concat(e)).then((function(t){alert("Deleted!"),a.setState((function(t){return{formats:t.formats.filter((function(t){return t._id!==e}))}}))}))},a.state={formats:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.fetchFormats()}},{key:"componentDidUpdate",value:function(e){var t=this.props.newItem;e.newItem!==t&&this.fetchFormats()}},{key:"render",value:function(){var e=this,t=this.state.formats;return r.a.createElement("div",{style:{marginTop:"6vh"}},r.a.createElement("h3",null,"Manage Formats"),r.a.createElement(Y,{hover:!0},r.a.createElement($,null,r.a.createElement("tr",null,r.a.createElement(Q,null,"Name"),r.a.createElement(Q,null,"Actions"))),r.a.createElement(Z,null,t.map((function(t){return r.a.createElement(ae,Object.assign({key:t._id,deleteFormat:e.deleteFormat},t))})))))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={elementFormat:a.state.elementFormat};C.a.post("".concat("/api","/formats/add"),t).then((function(e){alert("New Format Added!"),a.setState({elementFormat:"",new_item:t})})).catch((function(e){return console.log(e.response)}))},a.state={elementFormat:"",new_item:{}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.elementFormat;return r.a.createElement(_,{title:"Create New Format"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement(w.a.Group,{controlId:"elementFormat"},r.a.createElement(w.a.Label,null,"Format:"),r.a.createElement(w.a.Control,{name:"elementFormat",onChange:function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(f.a)({},n,r))},required:!0,type:"text",value:t})),r.a.createElement(D.a,{type:"submit",variant:"primary"},"Create New Format")),r.a.createElement(ne,{newItem:this.state.new_item}))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.elementFormat,n=a.props.match.params.id;C.a.post("".concat("/api","/api/formats/update/").concat(n),{elementFormat:t}).then((function(e){alert("Updated!"),a.props.history.push("/formats")}))},a.state={elementFormat:""},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;C.a.get("".concat("/api","/formats/").concat(t)).then((function(t){var a=t.data.elementFormat;e.setState({elementFormat:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.elementFormat;return r.a.createElement(_,{title:"Update Format"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement(w.a.Group,{controlId:"elementFormat"},r.a.createElement(w.a.Label,null,"Format"),r.a.createElement(w.a.Control,{name:"elementFormat",onChange:function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(f.a)({},n,r))},placeholder:"add format",required:!0,type:"text",value:t})),r.a.createElement(D.a,{type:"submit",variant:"primary"},"Update Format")))}}]),t}(n.Component),ce=function(e){var t=e.elementCategory,a=e._id,n=e.deleteCategory;return r.a.createElement(W,null,r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(o.b,{to:"".concat("/api","/api/categories/edit/").concat(a)},r.a.createElement(D.a,{size:"sm",variant:"outline-warning"},"edit")),r.a.createElement("span",null," | "),r.a.createElement(D.a,{onClick:function(){n(a)},size:"sm",variant:"outline-danger"},"delete")))},oe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).fetchCategories=function(){return C.a.get("".concat("/api","/api/categories")).then((function(e){var t=e.data;a.setState({categories:t})})).catch((function(e){console.log(e)}))},a.deleteCategory=function(e){C.a.delete("".concat("/api","/api/categories/").concat(e)).then((function(){alert("Category Deleted!"),a.setState((function(t){return{categories:t.categories.filter((function(t){return t._id!==e}))}}))}))},a.state={categories:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.fetchCategories()}},{key:"componentDidUpdate",value:function(e){var t=this.props.newItem;e.newItem!==t&&this.fetchCategories()}},{key:"render",value:function(){var e=this,t=this.state.categories;return r.a.createElement("div",{style:{marginTop:"6vh"}},r.a.createElement("h3",null,"Manage Categories"),r.a.createElement(Y,{hover:!0},r.a.createElement($,null,r.a.createElement("tr",null,r.a.createElement(Q,null,"Name"),r.a.createElement(Q,null,"Actions"))),r.a.createElement(Z,null,t.map((function(t){return r.a.createElement(ce,Object.assign({key:t._id,deleteCategory:e.deleteCategory},t))})))))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={elementCategory:a.state.elementCategory};C.a.post("".concat("/api","/api/categories/add"),t).then((function(e){alert("New Category Added!"),a.setState({elementCategory:"",new_item:t})})).catch((function(e){return console.log(e.response)}))},a.state={elementCategory:"",new_item:{}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.elementCategory;return r.a.createElement(_,{title:"Create New Category"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement(w.a.Group,{controlId:"elementCategory"},r.a.createElement(w.a.Label,null,"Category: "),r.a.createElement(w.a.Control,{name:"elementCategory",onChange:function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(f.a)({},n,r))},required:!0,type:"text",value:t})),r.a.createElement(D.a,{type:"submit",variant:"primary"},"Create New Category")),r.a.createElement(oe,{newItem:this.state.new_item}))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.elementCategory,n=a.props.match.params.id;C.a.post("".concat("/api","/api/categories/update/").concat(n),{elementCategory:t}).then((function(e){alert("Category Updated!"),a.props.history.push("/categories")}))},a.state={elementCategory:""},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;C.a.get("".concat("/api","/api/categories/").concat(t)).then((function(t){var a=t.data.elementCategory;e.setState({elementCategory:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.elementCategory;return r.a.createElement(_,{title:"Update Category"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement(w.a.Group,{controlId:"elementCategory"},r.a.createElement(w.a.Label,null,"Category"),r.a.createElement(w.a.Control,{name:"elementCategory",onChange:function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(f.a)({},n,r))},placeholder:"add category",required:!0,type:"text",value:t})),r.a.createElement(D.a,{type:"submit",variant:"primary"},"Update Category")))}}]),t}(n.Component),ue=function(e){var t=e.elementMarket,a=e._id,n=e.deleteMarket;return r.a.createElement(W,null,r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/markets/edit/".concat(a)},r.a.createElement(D.a,{size:"sm",variant:"outline-warning"},"edit")),r.a.createElement("span",null," | "),r.a.createElement(D.a,{onClick:function(){n(a)},size:"sm",variant:"outline-danger"},"delete")))},se=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).fetchMarkets=function(){return C.a.get("/markets/").then((function(e){var t=e.data;a.setState({markets:t})})).catch((function(e){console.log(e)}))},a.deleteMarket=function(e){C.a.delete("/markets/".concat(e)).then((function(t){alert("Market Deleted!"),a.setState((function(t){return{markets:t.markets.filter((function(t){return t._id!==e}))}}))}))},a.state={markets:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.fetchMarkets()}},{key:"componentDidUpdate",value:function(e){var t=this.props.newItem;e.newItem!==t&&this.fetchMarkets()}},{key:"render",value:function(){var e=this,t=this.state.markets;return r.a.createElement("div",{style:{marginTop:"6vh"}},r.a.createElement("h3",null,"Manage Markets"),r.a.createElement(Y,{hover:!0},r.a.createElement($,null,r.a.createElement("tr",null,r.a.createElement(Q,null,"Name"),r.a.createElement(Q,null,"Actions"))),r.a.createElement(Z,null,t.map((function(t){return r.a.createElement(ue,Object.assign({key:t._id,deleteMarket:e.deleteMarket},t))})))))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t={elementMarket:a.state.elementMarket};C.a.post("/markets/add",t).then((function(e){alert("New Market Added!"),a.setState({elementMarket:"",newItem:t})})).catch((function(e){return console.log(e.response)}))},a.state={elementMarket:"",newItem:{}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.elementMarket;return r.a.createElement(_,{title:"Create New Market"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement(w.a.Group,{controlId:"elementMarket"},r.a.createElement(w.a.Label,null,"Market:"),r.a.createElement(w.a.Control,{name:"elementMarket",onChange:function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(f.a)({},n,r))},required:!0,type:"text",value:t})),r.a.createElement(D.a,{type:"submit",variant:"primary"},"Create New Market")),r.a.createElement(se,{newItem:this.state.newItem}))}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state.elementMarket,n=a.props.match.params.id;C.a.post("/markets/update/".concat(n),{elementMarket:t}).then((function(e){alert("Market Updated!"),a.props.history.push("/markets")}))},a.state={elementMarket:""},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;C.a.get("/markets/".concat(t)).then((function(t){var a=t.data.elementMarket;e.setState({elementMarket:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.elementMarket;return r.a.createElement(_,{title:"Update Market"},r.a.createElement(w.a,{onSubmit:this.onSubmit},r.a.createElement(w.a.Group,{controlId:"elementMarket"},r.a.createElement(w.a.Label,null,"Market"),r.a.createElement(w.a.Control,{name:"elementMarket",onChange:function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(f.a)({},n,r))},placeholder:"add market",required:!0,type:"text",value:t})),r.a.createElement(D.a,{type:"submit",variant:"primary"},"Update Market")))}}]),t}(n.Component),be=a(17),ge=a(23),he=a(184),fe=a(188);function Ee(){var e=Object(z.a)(["\n  margin: 2px;\n  padding: 10px;\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid lightgrey;\n"]);return Ee=function(){return e},e}function ve(){var e=Object(z.a)(["\n  font-size: 95%;\n  table-layout: fixed;\n  white-space: nowrap;\n  background-color: none;\n  th,\n  td {\n    width: 30%;\n    padding: 2px;\n    border-style: hidden !important;\n  }\n"]);return ve=function(){return e},e}var Oe=Object(q.a)(U.a)(ve()),je=q.a.div(Ee(),(function(e){return e.isDragging?"lightgreen":"white"})),ke=function(e){var t=e._id,a=e.elementCategory,n=e.elementCogRating,l=e.elementDescription,c=e.elementDuration,o=e.elementFormat,m=e.elementLabel,i=e.elementLink,u=e.elementMarket,s=e.elementNumber,d=e.elementPhysRating,p=e.elementSubCategory,b=e.index;return r.a.createElement(ge.b,{draggableId:t,index:b},(function(e,t){var b=e.draggableProps,g=e.dragHandleProps,f=e.innerRef,E=t.isDragging;return r.a.createElement(je,Object.assign({},Object(h.a)({},b,{},g,{isDragging:E}),{ref:f}),r.a.createElement(Oe,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Element #: ",s),r.a.createElement("th",null,m))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Description: ",l)),r.a.createElement("tr",null,r.a.createElement("td",null,"Format: ",o.elementFormat),r.a.createElement("td",null,"Time: ",c),r.a.createElement("td",null,"Category: ",a.elementCategory)),r.a.createElement("tr",null,r.a.createElement("td",null,"SubCat: ",p),r.a.createElement("td",null,"Market: ",u.elementMarket),r.a.createElement("td",null,"Cog Rating: ",n),r.a.createElement("td",null,"Phys Rating: ",d)),r.a.createElement("tr",null,r.a.createElement("td",null,i)))))}))};function ye(){var e=Object(z.a)(["\n  align-items: stretch;\n  background-color: ",";\n  flex-grow: 1;\n  font-size: 90%;\n  overflow-y: scroll;\n  padding: 8px;\n"]);return ye=function(){return e},e}function Ce(){var e=Object(z.a)(["\n  height: 73vh;\n  margin: 1px;\n  transition: background-color 0.1s ease 0s;\n"]);return Ce=function(){return e},e}var Se=Object(q.a)(S.a)(Ce()),xe=Object(q.a)(fe.a)(ye(),(function(e){return e.isDraggingOver?"lightblue":"white"})),we=function(e){var t=e.id,a=e.name,n=e.items;return r.a.createElement(I.a,null,r.a.createElement(Se,null,r.a.createElement(S.a.Header,null,a),r.a.createElement(ge.c,{key:t,droppableId:t},(function(e,t){var a=e.droppableProps,l=e.innerRef,c=e.placeholder,o=t.isDraggingOver;return r.a.createElement(xe,Object.assign({},Object(h.a)({},a),{ref:l,style:{backgroundColor:"".concat(o?"lightblue":"white")}}),n.map((function(e,t){return r.a.createElement(ke,Object(h.a)({},e,{index:t,key:e._id}))})),c)}))))},Ie=function(e){var t=e.onSubmit,a=e.onChange,n=e.trackNumber,l=e.trackName,c=e.buttonText;return r.a.createElement(w.a,{id:"submit-track",onSubmit:t},r.a.createElement(w.a.Row,{style:{alignItems:"center"}},r.a.createElement(w.a.Group,{as:I.a,controlId:"trackNumber"},r.a.createElement(w.a.Label,null,"Track Number"),r.a.createElement(w.a.Control,{name:"trackNumber",onChange:a,placeholder:"add number",type:"text",value:n})),r.a.createElement(w.a.Group,{as:I.a,controlId:"trackName"},r.a.createElement(w.a.Label,null,"Track Name"),r.a.createElement(w.a.Control,{name:"trackName",onChange:a,placeholder:"add name",type:"text",value:l})),r.a.createElement(I.a,null,r.a.createElement(D.a,{style:{marginTop:"15px"},type:"submit",variant:"primary"},c))))},De=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(f.a)({},n,r))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.trackNumber,r=t.trackName,l=t.columns;C.a.post("".concat("/api","/tracks/add"),{trackNumber:n,trackName:r,trackInfo:l["column-2"].items}).then((function(e){a.setState((function(e){return Object(h.a)({},e,{trackName:"",trackNumber:"",columns:{"column-1":{name:"Elements",items:e.elements},"column-2":{name:"Track List",items:[]}}})}))}))},a.state={trackName:"",trackNumber:"",elements:[],columns:{"column-1":{name:"Elements",items:[]},"column-2":{name:"Track List",items:[]}}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("".concat("/api","/elements/")).then((function(t){e.setState((function(e){var a=Object(h.a)({},e),n=a.columns;return a.elements=t.data,n["column-1"].items=[].concat(Object(be.a)(a.columns["column-1"].items),Object(be.a)(t.data)),a}))}))}},{key:"render",value:function(){var e=this,t=this.state.columns;return r.a.createElement(X,{fluid:!0,title:"Create Track"},r.a.createElement(Ie,Object.assign({},this.state,{buttonText:"Submit",onChange:this.onChange,onSubmit:this.onSubmit})),r.a.createElement(ge.a,{onDragEnd:function(t){var a=t.source,n=t.destination;n&&(a.droppableId!==n.droppableId?e.setState((function(e){var t,r=e.columns[a.droppableId],l=e.columns[n.droppableId],c=Object(be.a)(r.items),o=Object(be.a)(l.items),m=c.splice(a.index,1),i=Object(x.a)(m,1)[0];return o.splice(n.index,0,i),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,(t={},Object(f.a)(t,a.droppableId,Object(h.a)({},r,{items:c})),Object(f.a)(t,n.droppableId,Object(h.a)({},l,{items:o})),t))})})):e.setState((function(e){var t=e.columns[a.droppableId],r=Object(be.a)(t.items),l=r.splice(a.index,1),c=Object(x.a)(l,1)[0];return r.splice(n.index,0,c),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,Object(f.a)({},a.droppableId,Object(h.a)({},t,{items:r})))})})))}},r.a.createElement(he.a,null,Object.entries(t).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return r.a.createElement(we,Object(h.a)({},n,{id:a,key:a}))})))))}}]),t}(n.Component),Ne=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state,r={trackNumber:n.trackNumber,trackName:n.trackName,trackInfo:n.columns["column-2"].items};C.a.put("".concat("/api","/tracks/update/").concat(t),r).then((function(e){var t=a.props.history;alert("Track Updated!"),t.push("/tracks")}))},a.onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.state={trackName:"",trackNumber:"",trackInfo:[],elements:[],elementsEnums:{},columns:{"column-1":{name:"Elements",items:[]},"column-2":{name:"Track List",items:[]}}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Promise.all([C.a.get("".concat("/api","/tracks/").concat(t)).then((function(e){return e.data})),C.a.get("".concat("/api","/elements/")).then((function(e){return e.data}))]).then((function(t){var a=Object(x.a)(t,2),n=a[0],r=a[1],l=r.reduce((function(e,t){return Object(h.a)({},e,Object(f.a)({},t._id,t))}),{});e.setState((function(e){var t=Object(h.a)({},e);return t.columns["column-1"].items=r.filter((function(e){return!n.trackInfo.some((function(t){return t._id===e._id}))})),t.columns["column-2"].items=n.trackInfo,Object(h.a)({},t,{},n,{elementsEnums:l,elements:r})}))}))}},{key:"render",value:function(){var e=this,t=this.state.columns;return r.a.createElement(X,{fluid:!0,title:"Update Track"},r.a.createElement(Ie,Object.assign({},this.state,{buttonText:"Update Track",onChange:this.onChange,onSubmit:this.onSubmit})),r.a.createElement(ge.a,{onDragEnd:function(t){var a=t.source,n=t.destination;if(n){var r=a.droppableId,l=n.droppableId;r!==l?e.setState((function(e){var t,c=e.columns[r],o=e.columns[l],m=Object(be.a)(c.items),i=Object(be.a)(o.items),u=m.splice(a.index,1),s=Object(x.a)(u,1)[0];return i.splice(n.index,0,s),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,(t={},Object(f.a)(t,r,Object(h.a)({},c,{items:m})),Object(f.a)(t,l,Object(h.a)({},o,{items:i})),t))})})):e.setState((function(e){var t=e.columns[r],l=Object(be.a)(t.items),c=l.splice(a.index,1),o=Object(x.a)(c,1)[0];return l.splice(n.index,0,o),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,Object(f.a)({},r,Object(h.a)({},t,{items:l})))})}))}}},r.a.createElement(he.a,null,Object.entries(t).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return r.a.createElement(we,Object(h.a)({},n,{id:a,key:a}))})))))}}]),t}(n.Component),Me=function(e){var t=e.elementNumber,a=e.elementLabel,n=e.elementDuration,l=e.elementLink,c=e.slideNumber;return r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,l))},Le=function(e){var t=e._id,a=e.deleteTrack,n=(e.elements,e.info,e.trackInfo),l=e.trackName,c=e.trackNumber;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("strong",null,c)),r.a.createElement("td",null,r.a.createElement("strong",null,l)),r.a.createElement("td",null,r.a.createElement(Y,{borderless:!0,responsive:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"75"},"Slide #"),r.a.createElement("th",{width:"100"},"Element #"),r.a.createElement("th",{width:"200"},"Label"),r.a.createElement("th",{width:"100"},"Timing"),r.a.createElement("th",{width:"400"},"Link"))),r.a.createElement("tbody",{style:{border:"none",fontSize:"90%"}},n.map((function(e,t){return r.a.createElement(Me,Object.assign({key:e._id,slideNumber:t+1},e))}))))),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement(o.b,{to:"/tracks/edit/".concat(t)},r.a.createElement(D.a,{size:"sm",variant:"outline-warning"},"edit")),r.a.createElement("span",null," | "),r.a.createElement(D.a,{onClick:function(){a(t)},size:"sm",variant:"outline-danger"},"delete")))},Fe=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).deleteTrack=function(e){C.a.delete("".concat("/api","/tracks/").concat(e)).then((function(){alert("Track Deleted!"),a.setState((function(t){return{tracks:t.tracks.filter((function(t){return t._id!==e}))}}))}))},a.state={tracks:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([C.a.get("".concat("/api","/elements/")),C.a.get("".concat("/api","/tracks/"))]).then((function(t){var a=Object(x.a)(t,2),n=a[0],r=a[1],l=n.data,c=r.data;e.setState({elements:l.reduce((function(e,t){return Object(h.a)({},e,Object(f.a)({},t._id,t))}),{}),tracks:c})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.tracks,n=t.elements;return r.a.createElement(X,{fluid:!0,title:"Tracks"},r.a.createElement(U.a,{hover:!0},r.a.createElement("thead",{style:{borderBottom:"2px solid white"}},r.a.createElement("tr",null,r.a.createElement(Q,{width:"200"},"Track #"),r.a.createElement(Q,{width:"200"},"Track Name"),r.a.createElement(Q,null,"Track Info"),r.a.createElement(Q,null,"Actions"))),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement(Le,Object.assign({key:t._id,deleteTrack:e.deleteTrack},Object(h.a)({},t,{elements:n})))})))))}}]),t}(n.Component);function Pe(){var e=Object(z.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  border: 1px solid lightgrey;\n  margin-bottom: 8px;\n  margin-right: 2px;\n  padding: 8px 10px;\n  min-width: 200px;\n  white-space: nowrap;\n\n  ul {\n    padding-left: 20px;\n    font-weight: 700;\n  }\n"]);return Pe=function(){return e},e}var Te=q.a.div(Pe(),(function(e){return e.isDragging?"lightgreen":"white"})),_e=function(e){var t=e._id,a=e.trackNumber,n=e.trackName,l=e.index;return r.a.createElement(ge.b,{draggableId:t,index:l},(function(e,t){var l=e.draggableProps,c=e.dragHandleProps,o=e.innerRef,m=t.isDragging;return r.a.createElement(Te,Object.assign({},Object(h.a)({},l,{},c,{isDragging:m}),{ref:o}),r.a.createElement("ul",null,r.a.createElement("li",null,a),r.a.createElement("li",null,n)))}))};function Re(){var e=Object(z.a)(["\n  background-color: ",";\n  display: flex;\n  flex-grow: 1;\n  height: 35vh;\n  overflow-x: scroll;\n  padding: 8px;\n"]);return Re=function(){return e},e}function Ge(){var e=Object(z.a)(["\n  border-radius: 4px;\n  border: 1px solid lightgrey;\n  display: flex;\n  flex-direction: column;\n  font-size: 90%;\n  height: 35vh;\n  margin: 1vh 5vh 8px 1px;\n  transition: background-color 0.1s ease 0s;\n"]);return Ge=function(){return e},e}var Ue=q.a.div(Ge()),ze=q.a.div(Re(),(function(e){return e.isDraggingOver?"lightblue":"white"})),qe=function(e){var t=e.id,a=e.name,n=e.items;return r.a.createElement(Ue,null,r.a.createElement(S.a.Header,null,a),r.a.createElement(ge.c,{key:t,direction:"horizontal",droppableId:t},(function(e,t){var a=e.droppableProps,l=e.innerRef,c=e.placeholder,o=t.isDraggingOver;return r.a.createElement(ze,Object.assign({},Object(h.a)({},a),{ref:l,style:{backgroundColor:"".concat(o?"lightblue":"white")}}),n.map((function(e,t){return r.a.createElement(_e,Object(h.a)({},e,{index:t,key:e._id}))})),c)})))},Ae=function(e){var t=e.onSubmit,a=e.onChange,n=e.programNumber,l=e.programName,c=e.buttonText;return r.a.createElement(w.a,{id:"submit-program",onSubmit:t},r.a.createElement(w.a.Row,{style:{alignItems:"center"}},r.a.createElement(w.a.Group,{as:I.a,controlId:"programNumber"},r.a.createElement(w.a.Label,null,"Number"),r.a.createElement(w.a.Control,{name:"programNumber",onChange:a,placeholder:"add number",type:"text",value:n})),r.a.createElement(w.a.Group,{as:I.a,controlId:"programName"},r.a.createElement(w.a.Label,null,"Name"),r.a.createElement(w.a.Control,{name:"programName",onChange:a,placeholder:"add name",type:"text",value:l})),r.a.createElement(I.a,null,r.a.createElement(D.a,{style:{marginTop:"15px"},type:"submit",variant:"primary"},c))))},Be=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onChange=function(e){var t=e.target,n=t.id,r=t.value;a.setState(Object(f.a)({},n,r))},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.programNumber,r=t.programName,l=t.columns;C.a.post("".concat("/api","/programs/add"),{programNumber:n,programName:r,programInfo:l["column-2"].items}).then((function(e){a.setState((function(e){return Object(h.a)({},e,{programNumber:"",programName:"",columns:{"column-1":{name:"Track List",items:e.tracks},"column-2":{name:"Program List",items:[]}}})}))}))},a.state={programNumber:"",programName:"",tracks:[],columns:{"column-1":{name:"Track List",items:[]},"column-2":{name:"Program List",items:[]}}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("".concat("/api","/tracks/")).then((function(t){e.setState((function(e){var a=Object(h.a)({},e),n=a.columns;return a.tracks=t.data,n["column-1"].items=[].concat(Object(be.a)(a.columns["column-1"].items),Object(be.a)(t.data)),a}))}))}},{key:"render",value:function(){var e=this,t=this.state.columns;return r.a.createElement(X,{fluid:!0,title:"Create Program"},r.a.createElement(Ae,Object.assign({},this.state,{buttonText:"Create",onChange:this.onChange,onSubmit:this.onSubmit})),r.a.createElement(ge.a,{onDragEnd:function(t){var a=t.source,n=t.destination;n&&(a.droppableId!==n.droppableId?e.setState((function(e){var t,r=e.columns[a.droppableId],l=e.columns[n.droppableId],c=Object(be.a)(r.items),o=Object(be.a)(l.items),m=c.splice(a.index,1),i=Object(x.a)(m,1)[0];return o.splice(n.index,0,i),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,(t={},Object(f.a)(t,a.droppableId,Object(h.a)({},r,{items:c})),Object(f.a)(t,n.droppableId,Object(h.a)({},l,{items:o})),t))})})):e.setState((function(e){var t=e.columns[a.droppableId],r=Object(be.a)(t.items),l=r.splice(a.index,1),c=Object(x.a)(l,1)[0];return r.splice(n.index,0,c),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,Object(f.a)({},a.droppableId,Object(h.a)({},t,{items:r})))})})))}},Object.entries(t).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return r.a.createElement(qe,Object(h.a)({},n,{id:a,key:a}))}))))}}]),t}(n.Component),He=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.props.match.params.id,n=a.state,r={programNumber:n.programNumber,programName:n.programName,programInfo:n.columns["column-2"].items};C.a.put("".concat("/api","/programs/update/").concat(t),r).then((function(e){var t=a.props.history;alert("Program Updated!"),t.push("/programs")}))},a.onChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(f.a)({},n,r))},a.state={programName:"",programNumber:"",programInfo:[],tracks:[],tracksEnums:{},columns:{"column-1":{name:"Tracks",items:[]},"column-2":{name:"Program List",items:[]}}},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;Promise.all([C.a.get("".concat("/api","/programs/").concat(t)).then((function(e){return e.data})),C.a.get("".concat("/api","/tracks/")).then((function(e){return e.data}))]).then((function(t){var a=Object(x.a)(t,2),n=a[0],r=a[1],l=r.reduce((function(e,t){return Object(h.a)({},e,Object(f.a)({},t._id,t))}),{});e.setState((function(e){var t=Object(h.a)({},e);return t.columns["column-1"].items=r.filter((function(e){return!n.programInfo.some((function(t){return t._id===e._id}))})),t.columns["column-2"].items=n.programInfo,Object(h.a)({},t,{},n,{tracksEnums:l,tracks:r})}))}))}},{key:"render",value:function(){var e=this,t=this.state.columns;return r.a.createElement(X,{fluid:!0,title:"Update Program"},r.a.createElement(Ae,Object.assign({},this.state,{buttonText:"Update Program",onChange:this.onChange,onSubmit:this.onSubmit})),r.a.createElement(ge.a,{onDragEnd:function(t){var a=t.source,n=t.destination;if(n){var r=a.droppableId,l=n.droppableId;r!==l?e.setState((function(e){var t,c=e.columns[r],o=e.columns[l],m=Object(be.a)(c.items),i=Object(be.a)(o.items),u=m.splice(a.index,1),s=Object(x.a)(u,1)[0];return i.splice(n.index,0,s),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,(t={},Object(f.a)(t,r,Object(h.a)({},c,{items:m})),Object(f.a)(t,l,Object(h.a)({},o,{items:i})),t))})})):e.setState((function(e){var t=e.columns[r],l=Object(be.a)(t.items),c=l.splice(a.index,1),o=Object(x.a)(c,1)[0];return l.splice(n.index,0,o),Object(h.a)({},e,{columns:Object(h.a)({},e.columns,Object(f.a)({},r,Object(h.a)({},t,{items:l})))})}))}}},Object.entries(t).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return r.a.createElement(qe,Object(h.a)({},n,{id:a,key:a}))}))))}}]),t}(n.Component),Ve=function(e){var t=e.programNumber,a=e.programName,n=e._id,l=e.deleteProgram;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},r.a.createElement(o.b,{to:"/programs/edit/".concat(n)},r.a.createElement(D.a,{size:"sm",variant:"outline-warning"},"edit")),r.a.createElement("span",null," | "),r.a.createElement(D.a,{onClick:function(){l(n)},size:"sm",variant:"outline-danger"},"delete")))},Je=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(j.a)(t).call(this,e))).deleteProgram=function(e){C.a.delete("".concat("/api","/programs/").concat(e)).then((function(t){alert("Program Deleted!"),a.setState((function(t){return{programInfo:t.programInfo.filter((function(t){return t._id!==e}))}}))}))},a.state={programInfo:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("".concat("/api","/programs/")).then((function(t){e.setState({programInfo:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.programInfo;return r.a.createElement(_,{title:"Programs"},r.a.createElement(U.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement(Q,null,"Program #"),r.a.createElement(Q,null,"Program Name"),r.a.createElement(Q,null,"Actions"))),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement(Ve,Object.assign({key:t._id,deleteProgram:e.deleteProgram},t))})))))}}]),t}(n.Component),Ke=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{id:"App"},r.a.createElement(g,null),r.a.createElement("br",null),r.a.createElement(m.a,{component:te,exact:!0,path:"/elements"}),r.a.createElement(m.a,{component:R,exact:!0,path:"/elements/create"}),r.a.createElement(m.a,{component:G,exact:!0,path:"/elements/edit/:id"}),r.a.createElement(m.a,{component:re,exact:!0,path:"/formats"}),r.a.createElement(m.a,{component:le,exact:!0,path:"/formats/edit/:id"}),r.a.createElement(m.a,{component:me,exact:!0,path:"/categories"}),r.a.createElement(m.a,{component:ie,exact:!0,path:"/categories/edit/:id"}),r.a.createElement(m.a,{component:de,exact:!0,path:"/markets"}),r.a.createElement(m.a,{component:pe,exact:!0,path:"/markets/edit/:id"}),r.a.createElement(m.a,{component:Fe,exact:!0,path:"/tracks"}),r.a.createElement(m.a,{component:De,exact:!0,path:"/tracks/create"}),r.a.createElement(m.a,{component:Ne,exact:!0,path:"/tracks/edit/:id"}),r.a.createElement(m.a,{component:Je,exact:!0,path:"/programs"}),r.a.createElement(m.a,{component:Be,exact:!0,path:"/programs/create"}),r.a.createElement(m.a,{component:He,exact:!0,path:"/programs/edit/:id"})))};c.a.render(r.a.createElement(Ke,null),document.getElementById("root"))},93:function(e,t,a){e.exports=a.p+"static/media/logo.07899b00.png"}},[[111,1,2]]]);
//# sourceMappingURL=main.54698b91.chunk.js.map